<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Legal Case Dashboard Form View -->
    <record id="legal_case_dashboard_form" model="ir.ui.view">
        <field name="name">legal.case.dashboard.form</field>
        <field name="model">board.board</field>
        <field name="arch" type="xml">
            <form string="Legal Case Dashboard">
                <board style="2-1">
                    <column>
                        <!-- Active Cases by Stage -->
                        <action name="legal_case_management.legal_case_action" string="Active Cases" domain="[('stage', '=', 'active')]" view_mode="kanban,list" context="{'dashboard_view': 'active_cases'}"/>
                        <!-- Upcoming Hearings -->
                        <action name="legal_case_management.legal_hearing_action" string="Upcoming Hearings" domain="[('date_start', '>=', context_today().strftime('%Y-%m-%d'))]" view_mode="list"/>
                    </column>
                    <column>
                        <!-- My Cases -->
                        <action name="legal_case_management.legal_case_action" string="My Cases" domain="[('responsible_lawyer_id.user_ids', 'in', [context.uid])]" view_mode="list" context="{'search_default_active_cases': 1, 'dashboard_view': 'my_cases'}"/>
                        <!-- Recent Cases -->
                        <action name="legal_case_management.legal_case_action" string="Recent Cases" domain="[]" view_mode="list" context="{'limit': 10, 'dashboard_view': 'recent_cases'}"/>
                    </column>
                </board>
            </form>
        </field>
    </record>

    <!-- Legal Case Dashboard Action -->
    <record id="legal_case_dashboard_action" model="ir.actions.act_window">
        <field name="name">Legal Dashboard</field>
        <field name="res_model">board.board</field>
        <field name="view_mode">form</field>
        <field name="usage">menu</field>
        <field name="view_id" ref="legal_case_dashboard_form"/>
        <field name="context">{'disable_toolbar': True}</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                Your legal dashboard is empty!
            </p>
            <p>
                To add your first report into this dashboard, go to any menu,
                switch to list or graph view, and click on the "Add to Dashboard" button in the extended search options.
            </p>
        </field>
    </record>
</odoo>